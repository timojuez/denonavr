#!/bin/bash

function error() {
    echo Call this to handle volume button press and release events
    echo
    echo "$0 (--up | --down) (--pressed | --released)"
    echo
    exit 1
}

if [ "$1" == "--up" ]; then button=true; elif [ "$1" == "--down" ]; then button=false; else error; fi
if [ "$2" == "--pressed" ]; then func=press; elif [ "$2" == "--released" ]; then func=release; else error; fi

echo '{"button": '$button', "func": "'$func'"}' | telnet localhost 1234

